<script type="text/javascript">
	$('.lunrSearch').keyup(function() {
		var query = $(this).val();
        if (query == ''){
            $('.lunrResult').empty();
        }else{
			var results = index.search(query);
			$('.lunrResult').empty().append(
				results.length ?
				results.map(function(result){
					var el = $('<tr>').append(
						$('<td>').append(
							$('<a>')
							.attr('href', result.ref)
							.text(store[result.ref].title)
						)
					);
					return el;
				}) : $('<tr><td><strong>No results found</strong></td></tr>')
			);
		}
	});
</script>
<section class="m0 p0 clearfix">
	<div class="mt2 mb2">
		<form>
			<label for="search">Search:  </label>
			<input id="search" type="text" class="field lunrSearch" autofocus>
		</form>
	</div>
	<div class="mt2 py0">
		<div class="col-12 bg-white rounded">
			<div class="overflow-hidden">
				<table class="table-light mt2 mb2">
					<tbody class="lunrResult">
					</tbody>
				</table>
			</div>
			<div class="mt2 h6">
				Powered by <a href="http://lunrjs.com/">lunr.js</a>
			</div>
		</div>
	</div>
</section>
